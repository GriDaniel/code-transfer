trigger:
  paths:
    include:
      - samreglib/testData/*/*.xml

pool:
  name: 'Self-hosted'

steps:
- script: |
    added_files=$(git diff --name-only --diff-filter=A HEAD^ HEAD | grep '^samreglib/testData/[^/]\+/[^/]\+\.xml$')
    if [ -n "$added_files" ]; then
      python samreglib/utils/processXML/processXML.py $added_files
    fi
  displayName: 'Process Added XML Files'
